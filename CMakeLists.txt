CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

SET(CMAKE_BUILD_TYPE Debug)

PROJECT ( flexrayusbinterface )

SET(CMAKE_CXX_FLAGS "--std=gnu++11")

# Boost
FIND_PACKAGE ( Boost COMPONENTS system thread REQUIRED  )
INCLUDE_DIRECTORIES( ${Boost_INCLUDE_DIR} )
SET( BOOST_LIBS
  ${Boost_LIBRARIES}
)

INCLUDE_DIRECTORIES( "/opt/ros/indigo/include")
FIND_LIBRARY(ROSCONSOLE_LIBRARY rosconsole
    /opt/ros/indigo/lib
    NO_DEFAULT_PATH
)

INCLUDE_DIRECTORIES( "include/")

#FILE(GLOB incs "include/*.h")
FILE(GLOB incs "include/*.hpp")
FILE(GLOB srcs "src/*.cpp")

MESSAGE(STATUS ${CMAKE_SOURCE_DIR})

ADD_EXECUTABLE( flexrayusbinterface ${incs} src/FlexRayHardwareInterface.cpp src/main.cpp include/ncurses_flexray.hpp)

TARGET_LINK_LIBRARIES(flexrayusbinterface ${BOOST_LIBS} -lftd2xx -lpthread ${ROSCONSOLE_LIBRARY} -lncurses)
